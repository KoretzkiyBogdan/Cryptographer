var crypt=function(){var r=["k","l","m","n"],n=["h","u","i","в","г","д","ж","я"],t=["v","w","t","g","j","з","ё","а","й"],o=function(){return!!Math.round(Math.random())},e=function(r,n){return Math.floor(Math.random()*r+(n||0))},u=function(r){return r.split("").reverse().join("")},i=function(r){var n=r[e(r.length-1)];return o()?n.toUpperCase():n},a=function(a){var c=a;o()?t.forEach(function(r){r.charCodeAt(0)==parseInt(a,16)&&(a=o()?r.toUpperCase():r)}):c=u(a)+i(n);for(var f=e(3,1),p=0;f>p;p++)c+=i(r),c=i(r)+c;return c},c=function(r){return r.toString().split("").map(function(r){return r.charCodeAt(0)})},f=function(r,n){return n.forEach(function(t){r^=t%n}),r},p=function(r,n){if(""===r)return Error("You must put message for right work");if(""===n)return Error("You must put key for right work");var t=c(n);return r.toString().split("").map(function(r){return r=f(r.charCodeAt(0),t),a(r.toString(16))}).join("")},h=function(r,o){if(void 0===o||""===o)return new Error("You must put key as second parameter");var e=new RegExp("[a-f]?(\\d+|[a-f]|["+t.join("")+"])([a-f"+n.join("")+"])?","gi"),i=new RegExp("["+n.join("")+"]","i"),a=new RegExp("["+t.join("")+"]","i"),p=c(o),h=r.match(e);return h?h.map(function(r){return r.match(i)&&(r=u(r.replace(i,""))),r.match(a)&&(r=r.toLowerCase().charCodeAt(0).toString(16)),r=f(parseInt(r,16),p),String.fromCharCode(r)}).join(""):r};return{encode:p,decode:h}}();